
<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Forecast 12 mesi — Volumi & Ricavi (CAGR selezionabile, Modelli 95% CI)</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  html { background:#f5f6f7; }
  body { background:#f5f6f7; color:#000000; font-family:'Arial Black',Arial,sans-serif; width:92%; max-width:1600px; margin:0 auto; }
  .header { display:flex; gap:18px; align-items:center; border:6px solid #000000; padding:14px 18px; margin:20px 0; box-shadow: 8px 8px 0 0 #000000; }
  .tag { display:flex; align-items:center; gap:12px; }
  .tag img { height:36px; border:4px solid #000000; box-shadow: 6px 6px 0 0 #000000; }
  h1 { margin:0; font-size:28px; line-height:1; font-weight:900; }
  .by { margin-left:auto; font-weight:900; border:4px solid #000000; padding:6px 10px; background:#fff; box-shadow: 6px 6px 0 0 #000000; }
  .panel { border:6px solid #000000; padding:12px; box-shadow:8px 8px 0 0 #000000; margin:16px 0; background:#fff; }
  .row { display:flex; gap:12px; flex-wrap:wrap; }
  .col { flex:1 1 520px; min-width:380px; border:6px solid #000000; box-shadow:8px 8px 0 0 #000000; padding:6px; background:#fff; }
  .chart { width:100%; min-height:420px; }
  .controls { display:flex; align-items:center; gap:12px; margin:8px 0 0 6px; }
  .label { font-weight:900; }
  input[type=range] { width:220px; }
</style>
</head>
<body>
  <div class="header">
    <div class="tag">
      <img src="fabrick.png" alt="Fabrick"/>
      <div>Fabrick — Forecast Ricavi & Volumi</div>
    </div>
    <div class="by">Davide Mancino</div>
  </div>

  <!-- TOP: 3 pannelli CAGR con slider -->
  <div class="panel">
    <div class="row">
      <div class="col">
        <div class="controls">
          <span class="label">CAGR Volumi:</span>
          <input id="cagr_vol" type="range" min="0" max="20" value="8" step="1"/>
          <span id="cagr_vol_val">8%</span>
        </div>
        <div id="vol_cagr_sel" class="chart"></div>
      </div>

      <div class="col">
        <div class="controls">
          <span class="label">CAGR Ricavi:</span>
          <input id="cagr_rev" type="range" min="0" max="20" value="8" step="1"/>
          <span id="cagr_rev_val">8%</span>
        </div>
        <div id="rev_cagr_sel" class="chart"></div>
      </div>

      <div class="col">
        <div class="controls">
          <span class="label">CAGR Ricavi (ex Mag & Giu 2025):</span>
          <input id="cagr_rev_ex" type="range" min="0" max="20" value="8" step="1"/>
          <span id="cagr_rev_ex_val">8%</span>
        </div>
        <div id="rev_cagr_ex_sel" class="chart"></div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: 2 confronti multi-modello -->
  <div class="panel">
    <div class="row">
      <div class="col"><div id="rev_multi_full" class="chart"></div></div>
      <div class="col"><div id="rev_multi_ex" class="chart"></div></div>
    </div>
  </div>

<script>
  // --- plotly figs preload ---
  const F_VOL_CAGR = {"data": [{"line": {"color": "#0047FF", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "Storico", "x": ["2025-01-01T00:00:00", "2025-02-01T00:00:00", "2025-03-01T00:00:00", "2025-04-01T00:00:00", "2025-05-01T00:00:00"], "y": [401265918.0, 373602669.0, 414979827.0, 388802143.0, 264886514.0], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "95% CI", "opacity": 0.22, "x": ["2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00"], "y": [397444649.31677294, 471953970.7830222, 539272091.9212338, 604037758.3335272, 668022394.9006327, 732133687.8058345, 796918007.5948545, 862741506.9593208, 929869805.5814996, 998507923.8213333, 1068822239.8233728, 1140953436.8445466, 71729744.82742926, 75594656.66918965, 79886692.24379219, 84690204.85108331, 90116436.59777564, 96316443.25404646, 103503029.27611588, 111990659.78954391, 122275124.10472058, 135214612.53956762, 152532118.8812085, 178819002.16840696], "type": "scatter"}, {"line": {"dash": "dash", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "CAGR(8%)", "x": ["2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00"], "y": [266590801.80680984, 268306055.05268484, 270032344.28959006, 271769740.5234241, 273518315.21693957, 275278140.2926828, 277049288.13595164, 278831831.5977734, 280625843.9979009, 282431399.1278285, 284248571.25382733, 286077435.1199999], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "font": {"color": "#000000", "family": "Arial Black"}, "title": {"font": {"size": 22, "color": "#000000"}, "text": "Volumi \u2014 CAGR (selezionabile)", "x": 0.0, "y": 0.98, "xanchor": "left"}, "margin": {"l": 70, "r": 30, "t": 80, "b": 60}, "xaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "tickformat": "%b %Y"}, "yaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "title": {"text": "\u20ac"}}, "paper_bgcolor": "#fff", "plot_bgcolor": "#fff"}};
  const F_REV_CAGR = {"data": [{"line": {"color": "#0047FF", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "Storico", "x": ["2024-01-01T00:00:00", "2024-02-01T00:00:00", "2024-03-01T00:00:00", "2024-04-01T00:00:00", "2024-05-01T00:00:00", "2024-06-01T00:00:00", "2024-07-01T00:00:00", "2024-08-01T00:00:00", "2024-09-01T00:00:00", "2024-10-01T00:00:00", "2024-11-01T00:00:00", "2024-12-01T00:00:00", "2025-01-01T00:00:00", "2025-02-01T00:00:00", "2025-03-01T00:00:00", "2025-04-01T00:00:00", "2025-05-01T00:00:00", "2025-06-01T00:00:00"], "y": [760408, 650490, 624322, 630160, 706936, 695872, 757059, 604975, 664694, 626856, 759472, 1225601, 755504, 717061, 739009, 585072, 140921, 138446], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "95% CI", "opacity": 0.22, "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00", "2026-06-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00"], "y": [303470.7906415657, 421626.1985543009, 543448.199876344, 673789.1381845768, 814915.118020427, 968378.5594545627, 1135473.312237133, 1317395.018167632, 1515310.8785281184, 1730394.8226410986, 1963847.4449569613, 2216908.529035743, 10084.643771814333, 11239.059287447253, 12592.787571015013, 14196.939032358483, 16121.662148073416, 18466.23148394269, 21376.638616348147, 25078.501335194494, 29944.655641705784, 36653.423799054995, 46641.71256188778, 63975.62758438642], "type": "scatter"}, {"line": {"dash": "dash", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "CAGR(8%)", "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00"], "y": [139336.76573260952, 140233.26267876365, 141135.52771326283, 142043.5979481612, 142957.51073429285, 143877.30366280847, 144803.01456672107, 145734.6815224626, 146672.3428514499, 147616.03712166086, 148565.80314922103, 149521.67999999993], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "font": {"color": "#000000", "family": "Arial Black"}, "title": {"font": {"size": 22, "color": "#000000"}, "text": "Ricavi \u2014 CAGR (selezionabile)", "x": 0.0, "y": 0.98, "xanchor": "left"}, "margin": {"l": 70, "r": 30, "t": 80, "b": 60}, "xaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "tickformat": "%b %Y"}, "yaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "title": {"text": "\u20ac"}}, "paper_bgcolor": "#fff", "plot_bgcolor": "#fff"}};
  const F_REV_CAGR_EX = {"data": [{"line": {"color": "#0047FF", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "Storico", "x": ["2024-01-01T00:00:00", "2024-02-01T00:00:00", "2024-03-01T00:00:00", "2024-04-01T00:00:00", "2024-05-01T00:00:00", "2024-06-01T00:00:00", "2024-07-01T00:00:00", "2024-08-01T00:00:00", "2024-09-01T00:00:00", "2024-10-01T00:00:00", "2024-11-01T00:00:00", "2024-12-01T00:00:00", "2025-01-01T00:00:00", "2025-02-01T00:00:00", "2025-03-01T00:00:00", "2025-04-01T00:00:00"], "y": [760408, 650490, 624322, 630160, 706936, 695872, 757059, 604975, 664694, 626856, 759472, 1225601, 755504, 717061, 739009, 585072], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "95% CI", "opacity": 0.22, "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00", "2025-05-01T00:00:00"], "y": [902008.3104358158, 1083215.321567986, 1248442.72311335, 1408582.8264869712, 1567802.1212733204, 1728246.426085402, 1891218.666151023, 2057602.7228716451, 2228049.654760973, 2403070.8927846556, 2583089.4189564064, 2768469.9119283096, 144220.27917381842, 152600.5410660252, 161941.55490909726, 172436.5783919678, 184341.07263075575, 198002.7693715811, 213912.77263399432, 232798.678508382, 255810.72193865143, 284945.55348795553, 324223.94547137595, 384395.87267812726], "type": "scatter"}, {"line": {"dash": "dash", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "CAGR(8%)", "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00"], "y": [588836.37086452, 592624.9618045274, 596437.9286527174, 600275.4282444171, 604137.6184240368, 608024.6580515628, 611936.7070090912, 615873.9262074039, 619836.4775925884, 623824.5241526976, 627838.2299244546, 631877.7599999998], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "font": {"color": "#000000", "family": "Arial Black"}, "title": {"font": {"size": 22, "color": "#000000"}, "text": "Ricavi \u2014 CAGR (escl. Mag & Giu 2025)", "x": 0.0, "y": 0.98, "xanchor": "left"}, "margin": {"l": 70, "r": 30, "t": 80, "b": 60}, "xaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "tickformat": "%b %Y"}, "yaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "title": {"text": "\u20ac"}}, "paper_bgcolor": "#fff", "plot_bgcolor": "#fff"}};
  const F_REV_MFULL = {"data": [{"line": {"color": "#0047FF", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "Storico", "x": ["2024-01-01T00:00:00", "2024-02-01T00:00:00", "2024-03-01T00:00:00", "2024-04-01T00:00:00", "2024-05-01T00:00:00", "2024-06-01T00:00:00", "2024-07-01T00:00:00", "2024-08-01T00:00:00", "2024-09-01T00:00:00", "2024-10-01T00:00:00", "2024-11-01T00:00:00", "2024-12-01T00:00:00", "2025-01-01T00:00:00", "2025-02-01T00:00:00", "2025-03-01T00:00:00", "2025-04-01T00:00:00", "2025-05-01T00:00:00", "2025-06-01T00:00:00"], "y": [760408, 650490, 624322, 630160, 706936, 695872, 757059, 604975, 664694, 626856, 759472, 1225601, 755504, 717061, 739009, 585072, 140921, 138446], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "CAGR(8%) \u2014 95% CI", "opacity": 0.12, "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00", "2026-06-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00"], "y": [303470.7906415657, 421626.1985543009, 543448.199876344, 673789.1381845768, 814915.118020427, 968378.5594545627, 1135473.312237133, 1317395.018167632, 1515310.8785281184, 1730394.8226410986, 1963847.4449569613, 2216908.529035743, 10084.643771814333, 11239.059287447253, 12592.787571015013, 14196.939032358483, 16121.662148073416, 18466.23148394269, 21376.638616348147, 25078.501335194494, 29944.655641705784, 36653.423799054995, 46641.71256188778, 63975.62758438642], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "CAGR(8%)", "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00"], "y": [139336.76573260952, 140233.26267876365, 141135.52771326283, 142043.5979481612, 142957.51073429285, 143877.30366280847, 144803.01456672107, 145734.6815224626, 146672.3428514499, 147616.03712166086, 148565.80314922103, 149521.67999999993], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "ETS \u2014 95% CI", "opacity": 0.12, "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00", "2026-06-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00"], "y": [516938.7318057546, 485688.07368302444, 454437.41556029423, 423186.7574375641, 391936.0993148339, 360685.44119210367, 329434.7830693735, 298184.12494664337, 266933.46682391316, 235682.80870118295, 204432.1505784528, 173181.4924557226, -614374.4164118192, -583123.758289089, -551873.1001663589, -520622.44204362866, -489371.78392089845, -458121.1257981683, -426870.46767543815, -395619.80955270794, -364369.15142997773, -333118.4933072476, -301867.8351845174, -270617.1770617872], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "ETS", "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00"], "y": [123160.77737198371, 91910.11924925353, 60659.46112652334, 29408.80300379316, -1841.8551189370337, -33092.51324166721, -64343.17136439739, -95593.82948712757, -126844.48760985775, -158095.14573258796, -189345.8038553181, -220596.46197804832], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "SARIMAX \u2014 95% CI", "opacity": 0.12, "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00", "2026-06-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00"], "y": [229647.20091447007, 1437324.6131975923, 1209794.392382931, 1559980.4117032108, 769627.9203026745, -2438321.0500011193, -171736.6646779431, 450345.73514618864, 535647.7157530667, 1609577.6792627247, 4608666.166751673, 4683732.925659896, 1501028.1804371234, 1562164.081934176, -1295653.585445603, -2219447.779629965, -2147993.8901412087, -2600650.875011082, -4688348.006627694, -1281761.4874484702, -276973.58497421397, -376467.20569274505, 138559.73663968802, -677754.7811309947], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "SARIMAX", "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00"], "y": [-224053.79010826227, 787942.1749186402, 416663.59334509296, 641503.4133644984, -256066.78357289778, -3563334.5283144065, -1386193.7698445125, -848824.07749751, -841900.0319384491, 156962.0469085609, 3085415.124342925, 3092380.5530485096], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "Prophet \u2014 95% CI", "opacity": 0.12, "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00", "2026-06-01T00:00:00", "2026-05-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00"], "y": [5122857.112917075, 1649805.0725706648, -108378.12593984859, -223502.4618098973, 3307.707878492839, 4901970.971841721, 1625390.5892448104, 1619624.163775222, 1323750.1766786275, 985639.7751178005, 46535.4588077458, 117407.06254187369, -667393.020830834, -647761.8192214839, 380657.80965092947, 810772.4961576542, 1191900.882065241, 1271874.8031614355, 4612331.910618814, -221389.0046356859, -383538.3490560709, -210544.1366708134, 1595514.9475531573, 5105298.139366163], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "Prophet", "x": ["2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-05-01T00:00:00", "2026-06-01T00:00:00"], "y": [5114189.987651902, 1623645.8804008104, -158131.7853031312, -300172.60335409886, -102360.44855441956, 4762363.002189896, 1451427.1032160486, 1403744.3833598676, 1065184.1452999962, 680688.6032298629, -309654.41064227175, -288251.6562906441], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "font": {"color": "#000000", "family": "Arial Black"}, "title": {"font": {"size": 22, "color": "#000000"}, "text": "Ricavi \u2014 Confronto Modelli (tutti i mesi)", "x": 0.0, "y": 0.98, "xanchor": "left"}, "margin": {"l": 70, "r": 30, "t": 80, "b": 60}, "xaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "tickformat": "%b %Y"}, "yaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "title": {"text": "\u20ac"}}, "paper_bgcolor": "#fff", "plot_bgcolor": "#fff"}};
  const F_REV_MEX = {"data": [{"line": {"color": "#0047FF", "width": 4}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 7}, "mode": "lines+markers", "name": "Storico", "x": ["2024-01-01T00:00:00", "2024-02-01T00:00:00", "2024-03-01T00:00:00", "2024-04-01T00:00:00", "2024-05-01T00:00:00", "2024-06-01T00:00:00", "2024-07-01T00:00:00", "2024-08-01T00:00:00", "2024-09-01T00:00:00", "2024-10-01T00:00:00", "2024-11-01T00:00:00", "2024-12-01T00:00:00", "2025-01-01T00:00:00", "2025-02-01T00:00:00", "2025-03-01T00:00:00", "2025-04-01T00:00:00"], "y": [760408, 650490, 624322, 630160, 706936, 695872, 757059, 604975, 664694, 626856, 759472, 1225601, 755504, 717061, 739009, 585072], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "CAGR(8%) \u2014 95% CI", "opacity": 0.12, "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00", "2025-05-01T00:00:00"], "y": [902008.3104358158, 1083215.321567986, 1248442.72311335, 1408582.8264869712, 1567802.1212733204, 1728246.426085402, 1891218.666151023, 2057602.7228716451, 2228049.654760973, 2403070.8927846556, 2583089.4189564064, 2768469.9119283096, 144220.27917381842, 152600.5410660252, 161941.55490909726, 172436.5783919678, 184341.07263075575, 198002.7693715811, 213912.77263399432, 232798.678508382, 255810.72193865143, 284945.55348795553, 324223.94547137595, 384395.87267812726], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "CAGR(8%)", "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00"], "y": [588836.37086452, 592624.9618045274, 596437.9286527174, 600275.4282444171, 604137.6184240368, 608024.6580515628, 611936.7070090912, 615873.9262074039, 619836.4775925884, 623824.5241526976, 627838.2299244546, 631877.7599999998], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "ETS \u2014 95% CI", "opacity": 0.12, "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00", "2025-05-01T00:00:00"], "y": [1038564.6419550458, 1041671.7768964303, 1044778.911837815, 1047886.0467791995, 1050993.1817205842, 1054100.3166619686, 1057207.4516033533, 1060314.5865447377, 1063421.7214861223, 1066528.856427507, 1069635.9913688917, 1072743.126310276, 502203.2923761173, 499096.15743473277, 495989.0224933481, 492881.88755196356, 489774.752610579, 486667.6176691945, 483560.4827278098, 480453.34778642526, 477346.2128450407, 474239.0779036562, 471131.9429622715, 468024.80802088697], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "ETS", "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00"], "y": [753294.7249879664, 756401.8599293509, 759508.9948707356, 762616.1298121201, 765723.2647535047, 768830.3996948892, 771937.5346362739, 775044.6695776584, 778151.804519043, 781258.9394604275, 784366.0744018122, 787473.2093431967], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "SARIMAX \u2014 95% CI", "opacity": 0.12, "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00", "2025-05-01T00:00:00"], "y": [885585.5187092478, 1354636.6105822264, 1878549.1695532473, 2347929.467645344, 2850337.5237527145, 3303300.1757797976, 3771061.225054984, 4294429.742643979, 4622801.149554767, 5065147.325480975, 5467730.055458735, 5788847.788936282, -4836233.728657465, -4505324.298604918, -4218561.144541007, -3929292.201442769, -3478258.237678247, -3168514.210562948, -2743607.2050997266, -2239589.322341673, -1719193.281009474, -1106183.3512487742, -511862.8375584645, 108987.64758482797], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "SARIMAX", "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00"], "y": [497286.5831470379, 421386.886511881, 386182.9091522365, 314368.09331793484, 305374.1007055208, 279846.48534003535, 301273.5072460178, 408085.7524828663, 346754.474055999, 423293.0904699848, 481202.8784269085, 476307.0301394079], "type": "scatter"}, {"fill": "toself", "hoverinfo": "skip", "line": {"width": 0}, "name": "Prophet \u2014 95% CI", "opacity": 0.12, "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00", "2026-04-01T00:00:00", "2026-03-01T00:00:00", "2026-02-01T00:00:00", "2026-01-01T00:00:00", "2025-12-01T00:00:00", "2025-11-01T00:00:00", "2025-10-01T00:00:00", "2025-09-01T00:00:00", "2025-08-01T00:00:00", "2025-07-01T00:00:00", "2025-06-01T00:00:00", "2025-05-01T00:00:00"], "y": [2468710.2202406344, 1794933.1336638876, 2615703.7638813164, 496798.2038087471, 1533090.7067546647, 1094388.2926023125, 1064865.6736197732, 3175758.600487173, 1968617.3015172977, 1916782.9895298088, 818889.7215365604, 562077.2177086917, 447682.24669890717, 717786.4849977925, 1826397.5108516698, 1890453.728082038, 3110739.4665394914, 1011985.1636276855, 1053024.1268930319, 1502162.6337733383, 474454.6108058028, 2601298.82792739, 1786805.941077862, 2466194.5561230187], "type": "scatter"}, {"line": {"dash": "dash", "width": 3}, "marker": {"line": {"color": "#000000", "width": 1}, "size": 6}, "mode": "lines+markers", "name": "Prophet", "x": ["2025-05-01T00:00:00", "2025-06-01T00:00:00", "2025-07-01T00:00:00", "2025-08-01T00:00:00", "2025-09-01T00:00:00", "2025-10-01T00:00:00", "2025-11-01T00:00:00", "2025-12-01T00:00:00", "2026-01-01T00:00:00", "2026-02-01T00:00:00", "2026-03-01T00:00:00", "2026-04-01T00:00:00"], "y": [2467509.7113677133, 1791074.470255294, 2608719.362927017, 485742.35384826874, 1517391.3163439503, 1073966.010188825, 1039020.5125965606, 3144185.8072243035, 1930858.5310893385, 1873776.9831566527, 771997.2835676474, 507190.3881434365], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmapgl": [{"type": "heatmapgl", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "font": {"color": "#000000", "family": "Arial Black"}, "title": {"font": {"size": 22, "color": "#000000"}, "text": "Ricavi \u2014 Confronto Modelli (escl. Mag & Giu 2025)", "x": 0.0, "y": 0.98, "xanchor": "left"}, "margin": {"l": 70, "r": 30, "t": 80, "b": 60}, "xaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "tickformat": "%b %Y"}, "yaxis": {"showgrid": true, "gridcolor": "#111", "zeroline": false, "title": {"text": "\u20ac"}}, "paper_bgcolor": "#fff", "plot_bgcolor": "#fff"}};

  // --- history series for dynamic CAGR ---
  const VOL_POINTS = [{"x": "2025-01-01", "y": 401265918.0}, {"x": "2025-02-01", "y": 373602669.0}, {"x": "2025-03-01", "y": 414979827.0}, {"x": "2025-04-01", "y": 388802143.0}, {"x": "2025-05-01", "y": 264886514.0}];
  const REV_POINTS = [{"x": "2024-01-01", "y": 760408.0}, {"x": "2024-02-01", "y": 650490.0}, {"x": "2024-03-01", "y": 624322.0}, {"x": "2024-04-01", "y": 630160.0}, {"x": "2024-05-01", "y": 706936.0}, {"x": "2024-06-01", "y": 695872.0}, {"x": "2024-07-01", "y": 757059.0}, {"x": "2024-08-01", "y": 604975.0}, {"x": "2024-09-01", "y": 664694.0}, {"x": "2024-10-01", "y": 626856.0}, {"x": "2024-11-01", "y": 759472.0}, {"x": "2024-12-01", "y": 1225601.0}, {"x": "2025-01-01", "y": 755504.0}, {"x": "2025-02-01", "y": 717061.0}, {"x": "2025-03-01", "y": 739009.0}, {"x": "2025-04-01", "y": 585072.0}, {"x": "2025-05-01", "y": 140921.0}, {"x": "2025-06-01", "y": 138446.0}];
  const REVEX_POINTS = [{"x": "2024-01-01", "y": 760408.0}, {"x": "2024-02-01", "y": 650490.0}, {"x": "2024-03-01", "y": 624322.0}, {"x": "2024-04-01", "y": 630160.0}, {"x": "2024-05-01", "y": 706936.0}, {"x": "2024-06-01", "y": 695872.0}, {"x": "2024-07-01", "y": 757059.0}, {"x": "2024-08-01", "y": 604975.0}, {"x": "2024-09-01", "y": 664694.0}, {"x": "2024-10-01", "y": 626856.0}, {"x": "2024-11-01", "y": 759472.0}, {"x": "2024-12-01", "y": 1225601.0}, {"x": "2025-01-01", "y": 755504.0}, {"x": "2025-02-01", "y": 717061.0}, {"x": "2025-03-01", "y": 739009.0}, {"x": "2025-04-01", "y": 585072.0}];

  function toDate(s){ return new Date(s); }

  function computeCAGRForecast(points, annualPct, months=12){
    if(!points || points.length===0) return {ds:[],yhat:[],lo:[],hi:[]};
    const last = points[points.length-1].y;
    const start = new Date(points[points.length-1].x);
    const mu_m = Math.pow(1+annualPct/100.0, 1/12.0) - 1.0;

    // volatilità: stimiamo dai log-returns
    const vals = points.map(p=>p.y).filter(v=>v>0);
    let sigma = 0.1/Math.sqrt(12);
    if(vals.length>3){
      let logs=[];
      for(let i=1;i<vals.length;i++){
        if(vals[i-1]>0 && vals[i]>0){
          logs.push(Math.log(vals[i]/vals[i-1]));
        }
      }
      if(logs.length>2){
        const m = logs.reduce((a,b)=>a+b,0)/logs.length;
        const v = logs.reduce((a,b)=>a+(b-m)*(b-m),0)/logs.length;
        sigma = Math.sqrt(v);
      }
    }

    const ds=[], yhat=[], lo=[], hi=[];
    const z = 1.96;
    for(let h=1; h<=months; h++){
      const d = new Date(start.getFullYear(), start.getMonth()+h, 1);
      const base = last * Math.pow(1+mu_m, h);
      const stdt = Math.sqrt(h)*sigma;
      ds.push(d);
      yhat.push(base);
      lo.push(base*Math.exp(-z*stdt));
      hi.push(base*Math.exp( z*stdt));
    }
    return {ds, yhat, lo, hi};
  }

  function makeCAGRLayout(title){
    return {
      paper_bgcolor: "#fff", plot_bgcolor: "#fff",
      font:{color:"#000000", family:"Arial Black"},
      title:{text:title, x:0.0, y:0.98, xanchor:"left", font:{size:22, color:"#000000"}},
      margin:{l:70, r:30, t:80, b:60},
      xaxis:{showgrid:true, gridcolor:"#111", zeroline:false, tickformat:"%b %Y"},
      yaxis:{showgrid:true, gridcolor:"#111", zeroline:false, title:"€"}
    };
  }

  function drawCAGR(targetId, points, annualPct, title){
    const hist = {
      x: points.map(p=>p.x), y: points.map(p=>p.y),
      mode:"lines+markers", name:"Storico",
      line:{width:4, color:"#0047FF"},
      marker:{size:7, line:{width:1, color:"#000000"}}
    };
    const fc = computeCAGRForecast(points, annualPct, 12);
    const band = {
      x: fc.ds.concat(fc.ds.slice().reverse()),
      y: fc.hi.concat(fc.lo.slice().reverse()),
      fill:"toself", name:"95% CI", opacity:0.22, line:{width:0}, hoverinfo:"skip"
    };
    const line = {
      x: fc.ds, y: fc.yhat, mode:"lines+markers",
      name:`CAGR(${annualPct}%)`, line:{width:4, dash:"dash"},
      marker:{size:7, line:{width:1, color:"#000000"}}
    };
    Plotly.newPlot(targetId, [hist, band, line], makeCAGRLayout(title), {responsive:true});
  }

  // render initial
  Plotly.newPlot("rev_multi_full", F_REV_MFULL.data, F_REV_MFULL.layout, {responsive:true});
  Plotly.newPlot("rev_multi_ex",   F_REV_MEX.data,   F_REV_MEX.layout,   {responsive:true});

  // initial CAGR = 8%
  drawCAGR("vol_cagr_sel", VOL_POINTS, 8, "Volumi — CAGR (selezionabile)");
  drawCAGR("rev_cagr_sel", REV_POINTS, 8, "Ricavi — CAGR (selezionabile)");
  drawCAGR("rev_cagr_ex_sel", REVEX_POINTS, 8, "Ricavi — CAGR (escl. Mag & Giu 2025)");

  // sliders
  const cagrVol = document.getElementById("cagr_vol");
  const cagrVolVal = document.getElementById("cagr_vol_val");
  cagrVol.addEventListener("input", e=>{
    cagrVolVal.textContent = e.target.value + "%";
    drawCAGR("vol_cagr_sel", VOL_POINTS, parseFloat(e.target.value), "Volumi — CAGR (selezionabile)");
  });

  const cagrRev = document.getElementById("cagr_rev");
  const cagrRevVal = document.getElementById("cagr_rev_val");
  cagrRev.addEventListener("input", e=>{
    cagrRevVal.textContent = e.target.value + "%";
    drawCAGR("rev_cagr_sel", REV_POINTS, parseFloat(e.target.value), "Ricavi — CAGR (selezionabile)");
  });

  const cagrRevEx = document.getElementById("cagr_rev_ex");
  const cagrRevExVal = document.getElementById("cagr_rev_ex_val");
  cagrRevEx.addEventListener("input", e=>{
    cagrRevExVal.textContent = e.target.value + "%";
    drawCAGR("rev_cagr_ex_sel", REVEX_POINTS, parseFloat(e.target.value), "Ricavi — CAGR (escl. Mag & Giu 2025)");
  });

  // autoresize
  window.addEventListener('resize', function(){
    ["vol_cagr_sel","rev_cagr_sel","rev_cagr_ex_sel","rev_multi_full","rev_multi_ex"]
      .forEach(function(id){ var el=document.getElementById(id); if(el) Plotly.Plots.resize(el); });
  });
</script>
</body>
</html>
